---
title: Xamarin 游戏开发简介
description: 本文档提供了使用 Xamarin 进行游戏开发的高级概述，同时介绍了如何进行游戏，以及如何使用适用于 Xamarin 和 Xamarin 的技术抽样。
ms.prod: xamarin
ms.assetid: 0E3CDCD2-FBE4-49F5-A70E-8A7B937BAF1D
author: conceptdev
ms.author: crdun
ms.date: 03/24/2017
ms.openlocfilehash: 5992e8df3080bb35fd123483e5ffb5e64f268b1a
ms.sourcegitcommit: db422e33438f1b5c55852e6942c3d1d75dc025c4
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/24/2020
ms.locfileid: "76724757"
---
# <a name="introduction-to-game-development-with-xamarin"></a>Xamarin 游戏开发简介

开发游戏可能非常令人兴奋，特别是在移动平台上发布工作的难易程度。 本文讨论了与游戏开发相关的概念和技术，这些概念和技术将帮助你创建游戏，无论你的目标是创建高质量的 AAA 游戏，还是只是为了让用户感兴趣。

本文涵盖以下主题：

- **游戏和非游戏编程概念**–我们将探讨一些概念，这些概念对于游戏开发是独特的，或者与其他类型的开发共享，但出于重要性的考虑，这里值得强调。
- **游戏开发团队**–此部分介绍游戏开发人员团队中的各种角色。
- **创建游戏想法**–此部分可帮助你创建新的游戏想法–创建新游戏的第一步。
- **游戏开发技术**–这里列出了一些可提高工作效率的跨平台技术，可作为游戏开发人员提高工作效率。

## <a name="game-vs-non-game-programming-concepts"></a>游戏和非游戏编程概念

转向游戏开发的程序员经常会遇到新的概念和开发模式。 本部分提供了其中一些概念的概要视图。

### <a name="the-game-loop"></a>游戏循环

典型的游戏要求在屏幕上进行恒定的移动或更改，以响应用户交互和自动游戏逻辑。 这是通过通常称为*游戏循环*来实现的。 游戏循环是一种循环语句（如 while 循环），它以非常高的频率运行，例如30或 60*帧/秒*。

下面是一个简单的游戏循环示意图：

![](images/image1.png "This is a diagram of a simple game loop")

下面讨论的技术将抽象掉实际的 while 循环，但尽管这一抽象，每帧更新的概念也将会出现。

即使是最简单的游戏，代码性能也可能优先。 例如：需要10毫秒执行的函数可能会对游戏性能产生很大的影响，尤其是在每帧调用一次以上时也是如此。 如果游戏运行的时间为30帧/秒，则意味着每个帧必须在33毫秒内执行。 与此相反，如果只是为了响应非游戏应用程序中的按钮单击而只执行此类函数，则可能不会明显。

可能每帧执行的常见逻辑类型包括：

- **正在读取输入**-通过检查输入硬件（如触摸屏、键盘、鼠标或游戏控制器），游戏可能需要检查用户是否已与游戏交互。
- **移动**–从一个位置移动到另一个位置的对象通常会每帧移动非常小的量，使其成为流畅运动的错觉。
- **冲突**–许多游戏需要经常测试各种对象是否重叠或相交。 本文后面的部分将更深入地介绍冲突。 移动和冲突可能由专用物理学模拟系统处理。
- **检查游戏特定的条件**–游戏的状态可能由某些条件控制，如播放机是否已达到足够的分数或分配的时间是否已用完。
- **AI 行为**–每帧逻辑，可用于控制不受播放机控制的对象的行为，例如敌人的 patrolling 或 racetrack 周围的对手驱动程序移动。
- **呈现**–大多数游戏将更新屏幕上显示的内容。 这可能是为了响应对游戏播放产生影响的更改（例如，移动到某一级别的字符），还是只是提供视觉波兰语（如产生雪或动画图标）。

请记住，上面列出的许多活动都可以更改整个应用程序的状态，而许多非游戏应用程序往往会更改状态以响应所引发的事件。

### <a name="content-loading-and-unloading"></a>内容加载和卸载

可能需要根据你在开发中使用的技术，手动加载和卸载（或释放）内容。 出于多种原因，可能需要手动加载和卸载资产：

- 资源可能需要很长时间才能相对于单个帧的长度进行加载。 某些资产甚至可能需要几秒钟才能加载，这会严重中断加载中型游戏时的体验。 如果加载时间特别长（如超过一秒或两次），则可能需要显示动态加载屏幕或进度栏。
- 资产可能会占用大量 RAM，要求对加载的内容进行主动管理，使其适合游戏目标平台提供的功能。
- 游戏可能需要显示超出 RAM 所能容纳的资源。 "开放式世界" 游戏通常包含大型环境，播放机可以无缝地浏览，即无加载屏幕。 在这种情况下，可能需要创建一个自定义系统用于流式传输内容和管理内存使用情况。

自定义文件格式可能需要在加载时进行处理，并且需要自定义加载代码。

### <a name="math"></a>数学

许多游戏比非游戏应用程序需要更多的高级数学。 当然，数学的级别取决于游戏的复杂性。 通常，三维游戏需要的数学比2D 更多。 幸运的是，您随时都可以开始执行简单的游戏并了解自己的情况。 游戏开发可以很好地了解数学！

如果您熟悉笛卡尔平面（使用 X 和 Y 坐标定位对象），则您可以了解游戏开发的入门知识。 下图显示了正面 Y 指向上方的笛卡尔平面：

![](images/image2.png "This shows a Cartesian plane with positive Y pointing upward")

> [!IMPORTANT]
> 某些引擎/Api 使用坐标系统，在此系统中，增加对象的 Y 值会将其向下移动，而其他系统则使用坐标系统，其中 Y 为向上。 如果要在系统之间移动，请记住这一点。
三角函数（如正弦和余弦）通常用于实现任何形式旋转的2D 游戏中。

如果你计划进行三维游戏，你可能需要熟悉线性代数中的概念（用于3D 空间中的旋转和移动）以及一些微积分（用于实现加速）。

### <a name="content-pipelines"></a>内容管道

术语 "*内容管道*" 指的是在游戏中使用文件时，文件从其格式（如 .png 图像文件）获取其最终格式所用的过程。 结束格式取决于所使用的内容类型，以及用于呈现内容的技术。

某些内容管道可能会非常快速，无需手动操作。 例如，大多数游戏引擎和 Api 可以加载其未处理格式的 .png 文件格式。 另一方面，在加载更复杂的格式（例如3D 模型）之前，可能需要将其处理成不同的格式，并且此处理可能需要一些时间，具体取决于资产的大小和复杂性。

## <a name="game-development-teams"></a>游戏开发团队

游戏开发为此过程中涉及的个人引入了新的角色和职务。 大多数游戏开发人员都无法满足发布完整游戏所需的广泛技能，因此存在许多专业。 请记住，这并不是完整的开发领域列表，只是其中一些更常见的部分。

- **程序员**–阅读本文的大多数人都属于此类别。 程序员在游戏开发中的作用类似于编程人员在非游戏应用程序中的角色。 职责包括编写逻辑来控制游戏流、在给定项目的上下文中为常见任务开发系统、添加和显示内容，当然还修复了 bug。
- **2d 艺术家**–2d 艺术家负责创建*2d 资产*。 其中包括用于游戏 GUI、粒子、环境和字符的图像文件。 如果正在开发的游戏是三维，则2D 艺术家可能不负责环境和字符。 您可以在[http://opengameart.org/](http://opengameart.org/)上查找游戏的自由艺术。
- **3d 艺术家**–3d 艺术家负责创建*3d 资产*。 其中包括适用于环境、字符和属性（家具、植物和其他 inanimate 对象）的3D 模型。 某些团队区分3D 艺术家和 3D animators，具体取决于团队大小。 可以在[http://opengameart.org/](http://opengameart.org/)上查找游戏的免费3d 艺术。
- **游戏设计器**-游戏设计人员负责定义游戏的播放方式。 这可能包括高级决定，例如游戏的设置、游戏的整体目标以及玩家在游戏中的进展情况。 游戏设计器还可以参与非常详细的决策，如将输入映射到操作、定义移动或级别的系数以及设计级别布局。 请记住，术语 "*设计器*" 可以指游戏设计器或可视化设计器，具体取决于上下文。
- **声音设计器**–声音设计器负责游戏的音频资产。 某些团队可能会区分负责创建音响效果和作曲者的人员，而较小的团队可能只有单个人负责所有音频。

## <a name="creating-a-game-idea"></a>创建游戏想法

设计游戏可能看起来很简单，只需 "使内容变得有趣" 即可。 遗憾的是，许多开发人员在创建要从中开始开发的想法时，发现他们会丢失。

游戏设计的训练方法并不容易解释，而是为了使作品或编程更有改进，但本部分可以帮助你从该路径中开始。

新开发人员应该开始很小。 这可能很难阻止重新创建一大的新式视频游戏，但较小的游戏可以是更好的学习环境，更快的进度也能更好地获得更好的体验。

许多游戏均用于学习和商业游戏，作为对现有游戏的改进或修改而开始。 生成创意的一种方法是查看其他灵感的游戏。 例如，你可以考虑你自己喜欢的游戏，并尝试识别游戏游戏的哪些特征使其乐趣。 它可能是探索、精通游戏的机制，或经历一段故事。 如果要搜索新的观点，请不要忘记 "怀旧" 游戏。

用于生成新创意的另一种方法是考虑特定的流派，如谜题游戏、战略游戏或 platformers。 开发人员熟悉的流派可能会提供一个很好的起点。

重塑现有游戏也是一种教育体验，但这可能会限制成品的商业可用性。 创建游戏（甚至是一个准确的克隆）的过程可提供有价值的培训体验。

## <a name="game-development-technology"></a>游戏开发技术

使用 Xamarin 和 Xamarin 的开发人员可以使用各种技术来帮助进行游戏开发。 本部分将讨论一些最常用的跨平台解决方案。

### <a name="monogame"></a>MonoGame

MonoGame 是 Microsoft 的硬程序 API 版本的开源的跨平台版本。 MonoGame 可用于为 iOS、Android、Mac OS X、Linux、Windows、Windows RT、PS4、PSVita、Xbox One 和交换机进行游戏。

MonoGame 在技术上不是游戏引擎，而是游戏开发 API。 这意味着，使用 MonoGame 需要直接管理游戏对象、手动绘制对象以及实现诸如相机和*场景图*（游戏对象之间的父子层次结构）等常见对象。

MonoGame 不提供标准的可视化开发环境，因此使用 MonoGame 需要编程知识。

使用 MonoGame 的游戏的典型示例包括：

FEZ:

![](images/image7.png "FEZ")

起

![](images/image8.jpg "Bastion")

若要开始使用 MonoGame，请转到我们的[MonoGame 指南](~/graphics-games/monogame/index.md)。

### <a name="urhosharp"></a>UrhoSharp

UrhoSharp 是一种跨平台的高级3D 和2D 引擎，可用于为应用程序创建使用几何、材料、光源和照相机的动画3D 和2D 场景。

![](images/urhosharp.gif "UrhoSharp is a cross-platform high-level 3D and 2D engine that can be used to create animated 3D and 2D scenes")

若要开始，请查看[UrhoSharp 指南](~/graphics-games/urhosharp/index.md)。

### <a name="additional-technology"></a>其他技术

上面突出显示的技术只是可用技术的示例。 其他重要技术包括：

- **动画工具包**– Xamarin 提供对 Apple 的 Sprite 包游戏框架的支持，使你可以访问本机 API 的所有功能。 由于 Sprite 工具包是 Apple 创建的技术，因此它可以与 iOS 生态系统的其余部分进行深层集成。 当然，Sprite 套件不是跨平台的，因此不能在 Android 上使用。 有关使用动画工具箱的详细信息，请参阅此文章： [https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/](https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/)
- **场景工具包**– Xamarin 还支持 Apple 的场景工具包框架，这简化了将3d 图形部署到 iOS 应用中的情况。 场景工具包也是 Apple 提供的技术，因此它具有上述用于 Sprite 工具包的集成和平台特定的注意事项。 有关场景工具包的详细信息，请参阅此文章： [https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/](https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/)
- **OpenTK –** OpenTK （代表开放工具工具包）提供对 iOS、Apple 和 Mac 硬件的低级别 OpenGL 访问。 有关 OpenTK 的详细信息，请参阅位于以下位置的主页： [https://opentk.net/](https://opentk.net/)

## <a name="related-links"></a>相关链接

- [MonoGame 指南](~/graphics-games/monogame/index.md)
- [UrhoSharp 指南](~/graphics-games/urhosharp/index.md)
